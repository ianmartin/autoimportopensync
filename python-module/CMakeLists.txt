PROJECT( pyhton-module C )

SET( PYTHONMODULE_VERSION "0.33" )	

SET( CMAKE_MODULE_PATH ${CMAKE_MODULE_PATH} "${CMAKE_SOURCE_DIR}/cmake/modules" )

INCLUDE_DIRECTORIES( ${CMAKE_CURRENT_SOURCE_DIR} ${CMAKE_CURRENT_BINARY_DIR} )

FIND_PACKAGE( OpenSync REQUIRED )
FIND_PACKAGE( PythonLibs REQUIRED )
FIND_PACKAGE( GLIB2 REQUIRED )

INCLUDE( OpenSyncDefaults )
INCLUDE( OpenSyncInternal )

SET( OPENSYNC_PYTHONPLG_DIR "${LIB_INSTALL_DIR}/opensync/python-plugins" )

SET( CMAKE_BUILD_TYPE RelWithDebInfo )


ADD_SUBDIRECTORY( src )

## Packaging

SET( CPACK_GENERATOR "TGZ;TBZ2" ) # This line is need for a CMake (Version 2.4.7) Bug - Fixed in CVS
SET( CPACK_SOURCE_GENERATOR "TGZ;TBZ2")
SET( CPACK_SOURCE_PACKAGE_FILE_NAME "libopensync-plugin-python-${PYTHONMODULE_VERSION}" )
INCLUDE( CPack )

