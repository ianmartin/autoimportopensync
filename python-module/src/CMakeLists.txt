INCLUDE_DIRECTORIES( ${OPENSYNC_INCLUDE_DIR} ${GLIB2_INCLUDE_DIRS} ${PYTHON_INCLUDE_PATH} )

ADD_DEFINITIONS( -DOPENSYNC_PYTHONPLG_DIR="\\\"${OPENSYNC_PYTHONPLG_DIR}\\\"" )

# python plugin module source 
SET( python_module_LIB_SRCS
python_module.c
)

ADD_LIBRARY( python-module SHARED ${python_module_LIB_SRCS} )

TARGET_LINK_LIBRARIES( python-module ${OPENYNC_LIBRARIES} ${GLIB2_LIBRARIES} ${PYTHON_LIBRARIES} )

# Install plugin
INSTALL( TARGETS python-module DESTINATION ${OPENSYNC_PLUGINDIR} )

# Install sampe plugin
INSTALL( FILES sample.py DESTINATION ${OPENSYNC_PYTHONPLG_DIR} )

