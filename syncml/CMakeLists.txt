PROJECT( libopensync-plugin-syncml C )

SET( VERSION "0.34" )

SET( CMAKE_MODULE_PATH ${CMAKE_MODULE_PATH} "${CMAKE_SOURCE_DIR}/cmake/modules" )
SET( CMAKE_MODULE_PATH ${CMAKE_MODULE_PATH} "${CMAKE_INSTALL_PREFIX}/share/cmake/modules/")

INCLUDE_DIRECTORIES( ${CMAKE_CURRENT_SOURCE_DIR} ${CMAKE_CURRENT_BINARY_DIR} )

FIND_PACKAGE( OpenSync REQUIRED )
FIND_PACKAGE( GLIB2 REQUIRED )
FIND_PACKAGE( LibXml2 REQUIRED )
# TODO - check whether LibSyncml supports obex and/or http
FIND_PACKAGE( LibSyncMl REQUIRED )

INCLUDE( OpenSyncInternal )

# Defaults
SET( ENABLE_OBEX TRUE CACHE BOOL "OBEX Transport" )
SET( ENABLE_HTTP TRUE CACHE BOOL "HTTP Transport" )

CONFIGURE_FILE("config.h.cmake" "config.h")

ADD_SUBDIRECTORY( src )

OPENSYNC_PACKAGE( ${PROJECT_NAME} ${VERSION} )

