dnl Process this file with autoconf to produce a configure script.

AC_INIT(configure.in)
AM_INIT_AUTOMAKE(palm_sync, 0.82)
AM_CONFIG_HEADER(config.h)

pkg_modules="glib-2.0"
PKG_CHECK_MODULES(PACKAGE, [$pkg_modules])
AC_SUBST(PACKAGE_CFLAGS)
AC_SUBST(PACKAGE_LIBS)

AC_ISC_POSIX
AC_PROG_CC
AM_PROG_CC_STDC
AC_HEADER_STDC
AC_DISABLE_STATIC
AC_PROG_LIBTOOL

XMLCFLAGS=`xml2-config --cflags`
XMLLDFLAGS=`xml2-config --libs`
AC_SUBST(XMLCFLAGS)
AC_SUBST(XMLLDFLAGS)

AC_CHECK_LIB(pisock,pi_socket,,AC_MSG_ERROR(You must have libpisock libraries installed.))
AC_CHECK_HEADER(pi-socket.h,, AC_MSG_ERROR(You must have the libpisock-dev package installed.))

AC_OUTPUT([
Makefile
src/Makefile
])
