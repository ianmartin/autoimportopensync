
LINK_DIRECTORIES( ${OPENSYNC_LIBRARY_DIRS} ${GLIB2_LIBRARY_DIRS} ${LIBXML2_LIBRARY_DIRS} ${LIBXSLT_LIBRARY_DIRS} ${LIBGCAL_LIBRARY_DIRS} )
INCLUDE_DIRECTORIES( ${OPENSYNC_INCLUDE_DIRS} ${GLIB2_INCLUDE_DIRS} ${LIBXML2_INCLUDE_DIRS} ${LIBXSLT_INCLUDE_DIRS} ${LIBGCAL_INCLUDE_DIRS} )

OPENSYNC_PLUGIN_ADD( gcalendar gcalendar.c )
OPENSYNC_FORMAT_ADD( gdata-format gdata_format.c )

TARGET_LINK_LIBRARIES( gcalendar ${OPENSYNC_LIBRARIES} ${GLIB2_LIBRARIES} ${LIBXML2_LIBRARIES} ${LIBXSLT_LIBRARIES} ${LIBGCAL_LIBRARIES})

TARGET_LINK_LIBRARIES( gdata-format ${OPENSYNC_LIBRARIES} ${GLIB2_LIBRARIES} )

###### INSTALL ###################
OPENSYNC_PLUGIN_INSTALL( gcalendar )
OPENSYNC_FORMAT_INSTALL( gdata-format )

# Install config template
OPENSYNC_PLUGIN_CONFIG( google-data )
OPENSYNC_PLUGIN_CONFIG( gcal2osync.xslt )
OPENSYNC_PLUGIN_CONFIG( gcont2osync.xslt )
OPENSYNC_PLUGIN_CONFIG( osync2gcal.xslt )
OPENSYNC_PLUGIN_CONFIG( osync2gcont.xslt )

