INCLUDE_DIRECTORIES( ${OPENSYNC_INCLUDE_DIR} ${GLIB2_INCLUDE_DIRS} )

ADD_LIBRARY( example_plugin SHARED plugin.c )
ADD_LIBRARY( format_plugin SHARED format.c )

TARGET_LINK_LIBRARIES( example_plugin ${OPENSYNC_LIBRARY} ${GLIB2_LIBRARIES} )
TARGET_LINK_LIBRARIES( format_plugin ${OPENSYNC_LIBRARY} ${GLIB2_LIBRARIES} )

###### INSTALL ################### 

INSTALL( TARGETS example_plugin DESTINATION ${OPENSYNC_PLUGINDIR} ) 
INSTALL( TARGETS format_plugin DESTINATION ${OPENSYNC_FORMATSDIR} )

INSTALL( FILES "${CMAKE_CURRENT_SOURCE_DIR}/plugin-name" DESTINATION ${OPENSYNC_CONFIGDIR} )

